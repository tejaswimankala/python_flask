pipeline{

	agent any

	environment {
		DOCKERHUB_CREDENTIALS=credentials('mtejaswi12')
		IMAGE_NAME="mtejaswi12/groceriesblog"
		PROJECT_ID = 'future-silicon-342405'

        CLUSTER_NAME = 'demo-cluster'

        LOCATION = 'us-central1-a'

        CREDENTIALS_ID = 'future-silicon-342405'
		
	}

	stages {
		stage ('build pods'){
		 steps
		
		 {
		 step([$class: 'KubernetesEngineBuilder', projectId: env.PROJECT_ID, clusterName: env.CLUSTER_NAME, location: env.LOCATION, manifestPattern: 'deployment.yaml', credentialsId: env.CREDENTIALS_ID, verifyDeployments: true])
		 }
	}
Â }
 
 }

